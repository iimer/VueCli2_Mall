webpackJsonp([7],{"0UoK":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={name:"Register",data:function(){var e=this;return{ruleForm:{email:"",pass:"",checkPass:"",phone:""},rules:{pass:[{validator:function(r,t,o){""===t?o(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),o())},trigger:"blur"},{min:6,max:12,message:"请输入6~12位的密码"}],checkPass:[{validator:function(r,t,o){""===t?o(new Error("请再次输入密码")):t!==e.ruleForm.pass?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],email:[{validator:function(e,r,t){""===r&&t(new Error("请输入邮箱")),t()},trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{validator:function(r,t,o){""===t?o(new Error("请输入手机号码")):11===t.split("").length&&e.allInt(t)?o():o(new Error("请输入正确的手机号码"))},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.$http({method:"post",url:"/login/user"}).then(function(e){r.isNewName(e.data)?r.$http({method:"post",url:"/login/add_user",data:r.ruleForm}).then(function(e){"success"===e.data&&(r.$message({message:"注册成功",type:"success"}),r.$router.push("/login")),console.log(e)}).catch(function(e){console.log(e)}):(r.$message({message:"邮箱已被注册",type:"error"}),r.$refs.ruleForm.resetFields())}).catch(function(e){console.log(e)})})},allInt:function(e){var r=e.split("");for(var t in r)if(r[t]>"9"||r[t]<"0")return!1;return!0},isNewName:function(e){for(var r in console.log(e),e)if(e[r].userName===this.ruleForm.email)return!1;return!0}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"all",staticStyle:{"background-color":"#e1f3d8"}},[t("div",{staticClass:"register"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{prop:"email"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"请输入邮箱账号"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"pass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off","prefix-icon":"el-icon-lock",placeholder:"设置密码"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off","prefix-icon":"el-icon-lock",placeholder:"确认密码"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-mobile-phone",placeholder:"请输入手机号"},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")]),e._v(" "),t("el-button",{attrs:{type:"info"},on:{click:function(r){return e.$router.push("/login")}}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var a=t("VU/8")(o,s,!1,function(e){t("vokP")},"data-v-c40f8ca8",null).exports,l=t("ldOZ"),n=t("veuj"),i=t("j5ea"),c={name:"Register_main",components:{Register:a,TabBar:l.a,SearchBox:n.a,BottomBar:i.a}},u={render:function(){var e=this.$createElement,r=this._self._c||e;return r("div",[r("TabBar"),this._v(" "),r("br"),this._v(" "),r("SearchBox"),this._v(" "),r("br"),this._v(" "),r("Register"),this._v(" "),r("hr",{attrs:{color:"red"}}),this._v(" "),r("BottomBar")],1)},staticRenderFns:[]};var m=t("VU/8")(c,u,!1,function(e){t("dtiD")},"data-v-71db99e2",null);r.default=m.exports},dtiD:function(e,r){},vokP:function(e,r){}});
//# sourceMappingURL=7.e756ed55a1f0196551a2.js.map