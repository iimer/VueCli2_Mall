webpackJsonp([8],{UxVG:function(e,r){},p2T8:function(e,r){},x56v:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("ldOZ"),s=t("veuj"),n=t("j5ea"),a={name:"Login",data:function(){return{loginForm:{username:"",userpassword:""},rules:{userpassword:[{validator:function(e,r,t){""===r&&t(new Error("请输入密码")),t()},trigger:"blur"}],username:[{validator:function(e,r,t){""===r&&t(new Error("请输入账号")),t()},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$http({method:"post",url:"/login/user"}).then(function(e){r.getUser(e.data)?(r.$message({message:"登陆成功",type:"success"}),sessionStorage.setItem("username",r.loginForm.username),console.log(sessionStorage.getItem("username")),r.$router.push("/")):(r.$refs.loginForm.resetFields(),r.$message({message:"请输入正确的账号、密码",type:"error"}))}).catch(function(e){console.log(e)})})},getUser:function(e){for(var r in e)if(e[r].userName===this.loginForm.username&&e[r].userPassword===this.loginForm.userpassword)return!0;return!1}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"all",staticStyle:{"background-color":"#e1f3d8"}},[t("div",{staticClass:"login_content"},[t("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"label-width":"80px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",autocomplete:"off",placeholder:"邮箱/手机/用户名"},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),e._v(" "),t("p"),e._v(" "),t("el-form-item",{attrs:{prop:"userpassword"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.loginForm.userpassword,callback:function(r){e.$set(e.loginForm,"userpassword",r)},expression:"loginForm.userpassword"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("loginForm")}}},[e._v("登录")]),e._v(" "),t("el-button",{attrs:{type:"info"},on:{click:function(r){return e.$router.push("/register")}}},[e._v("注册")])],1)],1)],1)])},staticRenderFns:[]};var l=t("VU/8")(a,i,!1,function(e){t("UxVG")},"data-v-30870120",null).exports,u={name:"Login_main",components:{TabBar:o.a,SearchBox:s.a,BottomBar:n.a,Login:l}},c={render:function(){var e=this.$createElement,r=this._self._c||e;return r("div",[r("TabBar"),this._v(" "),r("br"),this._v(" "),r("SearchBox"),this._v(" "),r("br"),this._v(" "),r("Login"),this._v(" "),r("hr",{attrs:{color:"red"}}),this._v(" "),r("BottomBar")],1)},staticRenderFns:[]};var m=t("VU/8")(u,c,!1,function(e){t("p2T8")},"data-v-718a7416",null);r.default=m.exports}});
//# sourceMappingURL=8.8c5dba75ced46db7ed39.js.map